(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{143:function(e,t,n){"use strict";var r=n(1),a=n(3),o=n(2),i=n(4),c=n(188),s=n(0),u=n.n(s),l=(n(28),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(a.a)(this,Object(o.a)(t).call(this))).onMarkerClick=function(t,n,r){return e.setState({selectedPlace:t,activeMarker:n,showingInfoWindow:!0})},e.onMapClicked=function(t){e.state.showingInfoWindow&&e.setState({showingInfoWindow:!1,activeMarker:null})},e.render=function(){return console.log(" rerender ",e.props),u.a.createElement(c.GoogleMap,{defaultZoom:8,defaultCenter:{lat:-34.397,lng:150.644},onClick:e.onMapClicked,initialCenter:{lat:40.854885,lng:-88.081807}},u.a.createElement(c.Marker,{onClick:e.onMarkerClick,name:"Current location"}),e.props.directions&&u.a.createElement(c.DirectionsRenderer,{directions:e.props.directions}))},e.state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},e.directionsService=new window.google.maps.DirectionsService,e}return Object(i.a)(t,e),t}(s.Component));t.a=Object(c.withGoogleMap)(l)},167:function(e,t,n){"use strict";var r=n(1),a=n(5),o=n(3),i=n(2),c=n(4),s=n(0),u=n.n(s),l=(n(168),n(88)),d=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this))).state={},n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){if(!this.props.directions)return null;var e=this.props.directions.routes[0].legs[0],t=e.distance,n=e.duration,r=this.props.directions.routes[0].summary,a=this.state.cost||this.props.cost||Object(l.a)(n.value,t.value),o=Object(l.b)(a);return u.a.createElement("div",{className:"RouteInfo"},u.a.createElement("h2",null,r),u.a.createElement("h4",null,"Afstand: ",t.text),u.a.createElement("h4",null,"Duur: ",n.text),u.a.createElement("h3",{style:{backgroundColor:o}},"\u20ac ",a))}}]),t}(s.Component);t.a=d},168:function(e,t,n){},28:function(e,t,n){"use strict";t.a={googleMapsAPIKey:"AIzaSyCRPLyg-5qth7AakbK6dYymVwHzja2HZI0"}},353:function(e,t,n){e.exports={truckIcon:"FromTo_truckIcon__1Vtsa",fromTo:"FromTo_fromTo__2nPL4",searchBar:"FromTo_searchBar__3uGVR"}},52:function(e,t,n){e.exports={svg:"NavbarMenuIcon_svg__lO4v7",middleBar:"NavbarMenuIcon_middleBar__7DEMy"}},53:function(e,t,n){"use strict";var r=n(1),a=n(3),o=n(2),i=n(4),c=n(0),s=n.n(c),u=n(26),l=n(5),d=n(52),p=n.n(d),h=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(a.a)(this,Object(o.a)(t).call(this,e))).state={},n}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("svg",{className:p.a.svg,viewBox:"0 0 512 512"},s.a.createElement("path",{className:p.a.middleBar,d:"M491.318,235.318H20.682C9.26,235.318,0,244.577,0,256s9.26,20.682,20.682,20.682h470.636\r c11.423,0,20.682-9.259,20.682-20.682C512,244.578,502.741,235.318,491.318,235.318z"}),s.a.createElement("path",{d:"M491.318,78.439H20.682C9.26,78.439,0,87.699,0,99.121c0,11.422,9.26,20.682,20.682,20.682h470.636\r c11.423,0,20.682-9.26,20.682-20.682C512,87.699,502.741,78.439,491.318,78.439z"}),s.a.createElement("path",{d:"M491.318,392.197H20.682C9.26,392.197,0,401.456,0,412.879s9.26,20.682,20.682,20.682h470.636\r c11.423,0,20.682-9.259,20.682-20.682S502.741,392.197,491.318,392.197z"}))}}]),t}(c.Component),f=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(a.a)(this,Object(o.a)(t).call(this,e))).handleMenuClick=function(){window.toggleOnsMenu()},n.render=function(){return s.a.createElement(u.Toolbar,null,s.a.createElement("div",{className:"left"},s.a.createElement(u.ToolbarButton,{onClick:n.handleMenuClick,className:"menu-toolbar-btn"},s.a.createElement(h,null))),s.a.createElement("div",{className:"center"},n.props.name))},n.state={},n}return Object(i.a)(t,e),t}(c.Component);t.a=f},552:function(e,t,n){e.exports={directionsInfo:"NewRouteOrder_directionsInfo__1W5hs",directionsOpen:"NewRouteOrder_directionsOpen__3KfLY",directionsClosed:"NewRouteOrder_directionsClosed__B2dIs"}},553:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=(r=o)&&r.__esModule?r:{default:r},c=n(27);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scriptLoaderId="id"+n.constructor.idCount++,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),a(t,[{key:"componentDidMount",value:function(){var e,t,n,r=this.props,a=r.onError,o=r.onLoad,i=r.url;this.constructor.loadedScripts[i]?o():this.constructor.erroredScripts[i]?a():this.constructor.scriptObservers[i]?this.constructor.scriptObservers[i][this.scriptLoaderId]=this.props:(this.constructor.scriptObservers[i]=(e={},t=this.scriptLoaderId,n=this.props,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e),this.createScript())}},{key:"componentWillUnmount",value:function(){var e=this.props.url,t=this.constructor.scriptObservers[e];t&&delete t[this.scriptLoaderId]}},{key:"createScript",value:function(){var e=this,t=this.props,n=t.onCreate,r=t.url,a=t.attributes,o=document.createElement("script");n(),a&&Object.keys(a).forEach(function(e){return o.setAttribute(e,a[e])}),o.src=r,o.hasAttribute("async")||(o.async=1);var i=function(t){var n=e.constructor.scriptObservers[r];Object.keys(n).forEach(function(a){t(n[a])&&delete e.constructor.scriptObservers[r][e.scriptLoaderId]})};o.onload=function(){e.constructor.loadedScripts[r]=!0,i(function(e){return e.onLoad(),!0})},o.onerror=function(){e.constructor.erroredScripts[r]=!0,i(function(e){return e.onError(),!0})},document.body.appendChild(o)}},{key:"render",value:function(){return null}}]),t}();s.propTypes={attributes:c.PropTypes.object,onCreate:c.PropTypes.func,onError:c.PropTypes.func.isRequired,onLoad:c.PropTypes.func.isRequired,url:c.PropTypes.string.isRequired},s.defaultProps={attributes:{},onCreate:function(){},onError:function(){},onLoad:function(){}},s.scriptObservers={},s.loadedScripts={},s.erroredScripts={},s.idCount=0,t.default=s,e.exports=t.default},585:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n.n(r),o=n(7),i=n(1),c=n(5),s=n(3),u=n(2),l=n(4),d=n(0),p=n.n(d),h=n(26),f=n(53);var m=n(353),v=n.n(m),b=(n(28),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=Object(o.a)(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return setTimeout(e,1e3)});case 2:t={types:["address"]},n.autocomplete=new google.maps.places.Autocomplete(document.getElementById(n.state.randomId),t),n.autocomplete.addListener("place_changed",n.handlePlaceSelect);case 5:case"end":return e.stop()}},e)})),n.handlePlaceSelect=function(){var e=n.autocomplete.getPlace(),t=e.address_components;t&&n.setState({city:t[0].long_name,query:e.formatted_address},n.fireOnChangeEvent)},n.handleInputChange=function(e){n.setState({query:e.target.value},n.fireOnChangeEvent)},n.fireOnChangeEvent=function(){n.props.onChange&&n.props.onChange(n.state.query)},n.render=function(){return p.a.createElement("div",{className:n.props.className},p.a.createElement(h.Input,{inputId:n.state.randomId,value:n.state.query,float:!0,placeholder:n.props.placeholder,onChange:n.handleInputChange,style:{margin:"0 auto",maxWidth:800}}))},n.state={query:"",randomId:Math.random().toString(36)},n}return Object(l.a)(t,e),t}(d.Component)),g=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){n.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t),n.firePropsChangeEvent)}},n.firePropsChangeEvent=function(){n.props.onChange&&n.props.onChange({origin:n.state.origin,destination:n.state.destination})},n.state={origin:"",destination:""},n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return p.a.createElement("div",{className:v.a.fromTo},p.a.createElement(h.Row,{verticalAlign:"center"},p.a.createElement(h.Col,null,p.a.createElement("div",null,p.a.createElement(h.Icon,{icon:"fa-map-marker"}),p.a.createElement(b,{className:v.a.searchBar,type:"text",placeholder:"vanaf",onChange:this.handleChange("origin")}))),p.a.createElement(h.Col,{className:v.a.truckIcon},p.a.createElement("div",null,p.a.createElement(h.Icon,{icon:"fa-truck"}))),p.a.createElement(h.Col,null,p.a.createElement("div",null,p.a.createElement(h.Icon,{icon:"fa-map-marker"}),p.a.createElement(b,{className:v.a.searchBar,type:"text",placeholder:"naar",onChange:this.handleChange("destination")})))))}}]),t}(d.Component),O=n(143),y=n(552),E=n.n(y),C=(n(553),n(167)),w=n(38),j=n(30),_=n(61),k=function(e){return{lat:e.lat(),lng:e.lng()}},M=function e(t,n){Object(i.a)(this,e);var r=t.routes[0],a=r.summary,o=r.legs,c=r.overview_polyline,s=o[0],u=s.distance,l=s.duration,d=s.end_address,p=s.end_location,h=s.start_address,f=s.start_location;this.overview_polyline=c,this.distance=u.value,this.summary=a,this.duration=l.value,this.end_address=d,this.end_location=k(p),this.start_address=h,this.start_location=k(f),this.cost=n,this.senderUid=j.a.user.uid,this.timestamp=(new Date).getTime(),this.senderName=Object(_.a)(j.a.user),this.description="Test description",this.title="Test title"},I=function(){var e=Object(o.a)(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.b;case 2:n=e.sent,console.log(t),n.firestore().collection("routeorders").add(Object.assign({},t));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),S=n(88),P=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleShowRoute=Object(o.a)(a.a.mark(function e(){var t,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.fromTo,r=t.destination,o=t.origin,(new window.google.maps.DirectionsService).route({origin:o,destination:r,travelMode:window.google.maps.TravelMode.DRIVING},function(e,t){t==window.google.maps.DirectionsStatus.OK?(console.log(e),n.setState({directions:e})):window.alert("Directions request failed due to "+t)});case 3:case"end":return e.stop()}},e)})),n.handleFromToChange=function(e){n.setState({fromTo:e},function(){return console.log(n.state.fromTo)})},n.handlePlaceRouteOrder=Object(o.a)(a.a.mark(function e(){var t,r,o,i,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.directions.routes[0].legs[0],r=t.distance,o=t.duration,i=Object(S.a)(o.value,r.value),c=new M(n.state.directions,i),e.next=5,w.b;case 5:if(!1!==j.a.isAuthenticated){e.next=8;break}return alert("Sorry you are not logged in"),e.abrupt("return");case 8:I(c);case 9:case"end":return e.stop()}},e)})),n.state={fromTo:{origin:"Oosterhoutsestraat, Nederland",destination:"Bredaseweg, Breda, Nederland"}},n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=[this.state.directions?E.a.directionsOpen:E.a.directionsClosed,E.a.directionsInfo];return p.a.createElement(h.Page,{renderToolbar:function(){return p.a.createElement(f.a,{title:"Home"})}},p.a.createElement("h1",{style:{margin:10}},"Nieuwe Route"),p.a.createElement(h.Card,null,p.a.createElement(g,{onChange:this.handleFromToChange}),p.a.createElement(h.Button,{onClick:this.handleShowRoute},"Bekijk route...")),p.a.createElement(h.Card,null,p.a.createElement("div",null,p.a.createElement(O.a,{containerElement:p.a.createElement("div",{style:{height:"400px"}}),mapElement:p.a.createElement("div",{style:{height:"100%"}}),directions:this.state.directions}))),p.a.createElement("div",{className:e.join(" ")},p.a.createElement(h.Card,null,p.a.createElement(C.a,{directions:this.state.directions}),p.a.createElement(h.Button,{onClick:this.handlePlaceRouteOrder},"Plaats Route"))))}}]),t}(d.Component);t.default=P},88:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var r=function(e,t){return Math.ceil(Math.max(.0019*t,.00583*t))},a=function(e){var t=Math.min(1,Math.max(0,Math.log10(10+e)/1.5-1));return i(t,1-t,0)},o=function e(t,n){return(t=t.toString()).length<n?e("0"+t,n):t},i=function(e,t,n){return"#"+o(Math.round(255*e).toString(16),2)+o(Math.round(255*t).toString(16),2)+o(Math.round(255*n).toString(16),2)}}}]);
//# sourceMappingURL=9.8ae1831c.chunk.js.map