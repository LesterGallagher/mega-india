(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1126:function(e,t,a){e.exports={colors:'"../../style/colors.css"',primary:"#00F38D",secondary:"#009EFF",fromTo:"FromTo_fromTo__2nPL4",truckIcon:"FromTo_truckIcon__1Vtsa",searchBar:"FromTo_searchBar__3uGVR"}},1205:function(e,t,a){e.exports={directionsInfo:"NewRouteOrder_directionsInfo__1W5hs",directionsOpen:"NewRouteOrder_directionsOpen__3KfLY",directionsClosed:"NewRouteOrder_directionsClosed__B2dIs",m10:"NewRouteOrder_m10__3AlBA",p0:"NewRouteOrder_p0__2GP85"}},1207:function(e,t,a){e.exports={ChoosePackageReceiver:"ChoosePackageReceiver_ChoosePackageReceiver__8UilT"}},1208:function(e,t,a){e.exports={colors:'"../../style/colors.css"',primary:"#00F38D",secondary:"#009EFF",ImportantInput:"ImportantInput_ImportantInput__VovoF"}},1334:function(e,t,a){"use strict";a.r(t);var n=a(582),r=a(84),s=a.n(r),o=a(107),i=a(44),l=a(48),c=a(47),u=a(45),m=a(46),d=a(12),h=a.n(d),p=a(406),f=a(458),v=a(430),E=a(1126),g=a.n(E),b=(a(414),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=Object(o.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return setTimeout(e,1e3)});case 2:t={types:["address"]},a.autocomplete=new google.maps.places.Autocomplete(document.getElementById(a.state.randomId),t),a.autocomplete.addListener("place_changed",a.handlePlaceSelect);case 5:case"end":return e.stop()}},e)})),a.handlePlaceSelect=function(){var e=a.autocomplete.getPlace(),t=e.address_components;t&&a.setState({city:t[0].long_name,query:e.formatted_address},a.fireOnChangeEvent)},a.handleInputChange=function(e){a.setState({query:e.target.value},a.fireOnChangeEvent)},a.fireOnChangeEvent=function(){a.props.onChange&&a.props.onChange(a.state.query)},a.render=function(){return h.a.createElement("div",{className:a.props.className},h.a.createElement(p.Input,{inputId:a.state.randomId,value:a.state.query,float:!0,placeholder:a.props.placeholder,onChange:a.handleInputChange}))},a.state={query:"",randomId:Math.random().toString(36)},a}return Object(m.a)(t,e),t}(d.Component)),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(v.a)({},e,t),a.firePropsChangeEvent)}},a.firePropsChangeEvent=function(){a.props.onChange&&a.props.onChange({origin:a.state.origin,destination:a.state.destination})},a.state={origin:"",destination:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return h.a.createElement("div",{className:g.a.fromTo},h.a.createElement(p.Row,{verticalAlign:"center"},h.a.createElement(p.Col,null,h.a.createElement("div",null,h.a.createElement(p.Icon,{icon:"fa-map-marker"}),h.a.createElement(b,{className:g.a.searchBar,type:"text",placeholder:"vanaf",onChange:this.handleChange("origin")}))),h.a.createElement(p.Col,{className:g.a.truckIcon},h.a.createElement("div",null,h.a.createElement(p.Icon,{icon:"fa-truck"}))),h.a.createElement(p.Col,null,h.a.createElement("div",null,h.a.createElement(p.Icon,{icon:"fa-map-marker"}),h.a.createElement(b,{className:g.a.searchBar,type:"text",placeholder:"naar",onChange:this.handleChange("destination")})))))}}]),t}(d.Component),_=a(640),O=a(1205),w=a.n(O),I=(a(1206),a(655)),N=a(657),k=a(530),y=a(410),j=a(411),M=a(1342),S=a(444),x=a(463),T=a(1207),P=a.n(T),R=a(697),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return h.a.createElement("div",{className:P.a.ChoosePackageReceiver},h.a.createElement("h5",{style:{margin:10}},"Kies ontvanger ",h.a.createElement("small",null,"(optioneel)")),h.a.createElement(p.Card,null,h.a.createElement(R.a,{onSelect:this.props.onSelect})))}}]),t}(d.Component),L=a(584),D=a(676),W=(a(470),a(527)),A=a.n(W),H=a(1208),B=a.n(H),V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return h.a.createElement("div",{className:B.a.ImportantInput},h.a.createElement("input",this.props))}}]),t}(d.Component),U=(a(1209),a(1234),a(1235)),q=a(408),K=a.n(q),G=new(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).setStoreState=function(t){"function"===typeof t&&(t=t(e.state)),Object.assign(e.state,t),e.emit("change")},e.clear=function(){e.state={},e.emit("change")},e.state={fromTo:{origin:"",destination:""},receiver:null,cost:null,date:K()(),time:{hours:13,minutes:0},title:"",description:"",transportMethods:{fiets:!1,brommer:!1,auto:!1,vrachtbus:!1,anders:!1,otherText:""}},e}return Object(m.a)(t,e),t}(a(448).EventEmitter)),J=Object(D.b)(L.a),z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleNewRouteOrderStoreChange=function(){a.setState(G.state)},a.componentDidMount=function(){G.on("change",a.handleNewRouteOrderStoreChange)},a.componentWillUnmount=function(){G.removeListener("change",a.handleNewRouteOrderStoreChange)},a.handleShowRoute=Object(o.a)(s.a.mark(function e(){var t,n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a.state.fromTo,n=t.destination,r=t.origin,(new window.google.maps.DirectionsService).route({origin:r,destination:n,travelMode:window.google.maps.TravelMode.DRIVING},function(e,t){if(t==window.google.maps.DirectionsStatus.OK){var n=e.routes[0].legs[0],r=n.distance,s=n.duration,o=Object(k.a)(s.value,r.value);a.setStoreState({directions:e,cost:o})}else window.alert("Directions request failed due to "+t)});case 3:case"end":return e.stop()}},e)})),a.handleFromToChange=function(e){a.setStoreState({fromTo:e})},a.setStoreState=function(e){G.setStoreState(e)},a.handlePlaceRouteOrder=Object(o.a)(s.a.mark(function e(){var t,n,r,o,i,l,c,u,m,d;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.state.directions.routes[0].legs[0],t.distance,t.duration,n=a.state,r=n.cost,o=n.receiver,i=n.title,l=n.description,c=n.date,(u=new Date(c.valueOf())).setHours(a.state.time.hours),u.setMinutes(a.state.time.minutes),m=new N.a(a.state.directions,r,i,l,o,void 0,void 0,a.getTransportMethods(),u),e.next=9,j.a.ready;case 9:if(!1!==y.a.isAuthenticated){e.next=12;break}return alert("Sorry you are not logged in"),e.abrupt("return");case 12:return e.next=14,Object(N.b)(m);case 14:d=e.sent,a.props.history.push(x.s.replace(":id",d.id)),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),S.notification.alert("Kan route niet plaatsen. Foutmelding: "+e.t0);case 21:case"end":return e.stop()}},e,null,[[0,18]])})),a.getTransportMethods=function(){var e=a.state.transportMethods,t=e.otherText,r=e.fiets,s=e.brommer,o=e.auto,i=e.vrachtbus,l=e.anders,c=Object.keys({fiets:r,brommer:s,auto:o,vrachtbus:i}).filter(function(t){return e[t]});return l&&c.push.apply(c,Object(n.a)(t.split(/\s*,\s*/))),c},a.handleTransportMethods=function(e){return function(t){a.setStoreState(function(a){return a.transportMethods[e]=t.target.checked,a})}},a.handleTransportMethodsOther=function(e){a.setStoreState(function(t){return t.transportMethods.otherText=e.target.value,t})},a.changeTime=function(e){e.timeHours?(+e.timeHours>60&&(e.timeHours=60),+(e.timeHours<0)&&(e.timeHours=0),e.timeHours.length>2&&(e.timeHours=a.state.timeHours)):e.timeMinutes&&(+e.timeMinutes>60&&(e.timeMinutes=60),+(e.timeMinutes<0)&&(e.timeMinutes=0),e.timeMinutes.length>2&&(e.timeMinutes=a.state.timeMinutes)),a.setStoreState(e)},a.state=G.state,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.receiver,n=t.directions,r=t.fromTo,i=[n?w.a.directionsOpen:w.a.directionsClosed,w.a.directionsInfo];return h.a.createElement(p.Page,{renderToolbar:function(){return h.a.createElement(f.a,{title:"Home"})}},h.a.createElement("h5",{style:{margin:10}},"Nieuwe Route"),h.a.createElement(p.Card,null,h.a.createElement("div",{className:"text-center"},h.a.createElement("h2",null,"Wat wilt u vervoeren?"),h.a.createElement("p",null,"Voer een titel in"),h.a.createElement("div",null,h.a.createElement(V,null),"\xa0",h.a.createElement(p.Button,{style:{height:49,maxHeight:200,lineHeight:"51px",verticalAlign:"top"}},"Vind rubriek")),h.a.createElement("br",null),h.a.createElement("h4",null,"Omschrijving"),h.a.createElement("textarea",{style:{width:"100%"},onChange:function(t){return e.setStoreState({description:t.target.value})},value:this.state.description,className:"textarea textarea--transparent",rows:"6",placeholder:"Omschrijf het soort transport en de lading die je wil laten vervoeren."}))),h.a.createElement("h5",{className:"m10"},"Vervoelsmiddel"),h.a.createElement(p.Card,null,h.a.createElement(p.List,null,h.a.createElement(p.ListItem,null,h.a.createElement("label",{className:"left"},h.a.createElement(p.Checkbox,{checked:this.state.transportMethods.fiets,inputId:"vervoersmiddel_fiets",onChange:this.handleTransportMethods("fiets"),modifier:"material"})),h.a.createElement("label",{htmlFor:"vervoersmiddel_fiets",className:"center"},"Fiets")),h.a.createElement(p.ListItem,null,h.a.createElement("label",{className:"left"},h.a.createElement(p.Checkbox,{checked:this.state.transportMethods.brommer,onChange:this.handleTransportMethods("brommer"),inputId:"vervoersmiddel_brommer",modifier:"material"})),h.a.createElement("label",{htmlFor:"vervoersmiddel_brommer",className:"center"},"Brommer")),h.a.createElement(p.ListItem,null,h.a.createElement("label",{className:"left"},h.a.createElement(p.Checkbox,{checked:this.state.transportMethods.auto,onChange:this.handleTransportMethods("auto"),inputId:"vervoersmiddel_auto",modifier:"material"})),h.a.createElement("label",{htmlFor:"vervoersmiddel_auto",className:"center"},"Auto")),h.a.createElement(p.ListItem,null,h.a.createElement("label",{className:"left"},h.a.createElement(p.Checkbox,{checked:this.state.transportMethods.vrachtbus,onChange:this.handleTransportMethods("vrachtbus"),inputId:"vervoersmiddel_vrachtbus",modifier:"material"})),h.a.createElement("label",{htmlFor:"vervoersmiddel_vrachtbus",className:"center"},"Vrachtbus")),h.a.createElement(p.ListItem,null,h.a.createElement("label",{className:"left"},h.a.createElement(p.Checkbox,{checked:this.state.transportMethods.anders,onChange:this.handleTransportMethods("anders"),inputId:"vervoersmiddel_anders",modifier:"material"})),h.a.createElement("div",{className:"center"},h.a.createElement("label",{htmlFor:"vervoersmiddel_anders",className:"list-item__title"},"Anders"),h.a.createElement("span",{className:"list-item__subtitle"},h.a.createElement(p.Input,{type:"text",style:{width:370},onChange:this.handleTransportMethodsOther,placeholder:"Bijvoorbeeld: Vrachtwagen, ruimteschip. etc"})))))),h.a.createElement("h5",{className:"m10"},"Wanneer"),h.a.createElement(p.Card,null,h.a.createElement(p.Row,null,h.a.createElement(p.Col,null,h.a.createElement("h6",null,"Datum"),h.a.createElement(U.SingleDatePicker,{date:this.state.date,numberOfMonths:1,onDateChange:function(t){return e.setStoreState({date:t})},focused:this.state.focused,onFocusChange:function(t){var a=t.focused;return e.setStoreState({focused:a})},id:"your_unique_id"})),h.a.createElement(p.Col,null,h.a.createElement("h6",null,"Tijd"),h.a.createElement(p.Input,{value:this.state.timeHours,onChange:function(t){return e.changeTime({timeHours:t.target.value})},type:"number",step:"1",min:"0",max:"60",style:{width:50}}),":",h.a.createElement(p.Input,{value:this.state.timeMinutes,onChange:function(t){return e.changeTime({timeMinutes:t.target.value})},type:"number",step:"1",min:"0",max:"60",style:{width:50}})))),h.a.createElement("h5",{className:"m10"},"Route"),h.a.createElement(p.Card,null,h.a.createElement(C,{onChange:this.handleFromToChange}),h.a.createElement(p.Button,{disabled:!r.origin||!r.destination,onClick:this.handleShowRoute},"Maak route...")),h.a.createElement("h5",{className:"m10"},"Kaart"),h.a.createElement(p.Card,null,h.a.createElement("div",null,h.a.createElement(_.a,{containerElement:h.a.createElement("div",{style:{height:"400px"}}),mapElement:h.a.createElement("div",{style:{height:"100%"}}),directions:n}))),h.a.createElement("div",{className:i.join(" ")},h.a.createElement(p.Card,null,h.a.createElement(I.a,{onCostChange:function(t){return e.setStoreState({cost:t})},cost:this.state.cost,directions:this.state.directions}),h.a.createElement(p.Button,{onClick:this.handlePlaceRouteOrder},"Plaats Route")),a?h.a.createElement(Y,{uid:a,onCloseClick:Object(o.a)(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.notification.confirm("Weet je het zeker?");case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}e.setStoreState({receiver:null});case 5:case"end":return t.stop()}},t)}))}):h.a.createElement(F,{onSelect:function(t){var a=t.uid;t.userPublicData;return e.setStoreState({receiver:a})}})))}}]),t}(d.Component),Y=function(e){var t=e.uid,a=e.onCloseClick;return h.a.createElement("div",null,h.a.createElement("h5",{className:w.a.m10},"Geselecteerde ontvanger"),h.a.createElement(p.Card,null,h.a.createElement(p.List,null,h.a.createElement(p.ListItem,{className:w.a.p0},h.a.createElement("div",{className:A()("center",w.a.p0)},h.a.createElement(D.a,{uid:t},h.a.createElement(J,null))),h.a.createElement("div",{className:A()("right",w.a.p0)},h.a.createElement(p.Fab,{modifier:"mini",style:{backgroundColor:"red"},onClick:a},h.a.createElement(p.Icon,{icon:"md-close",style:{color:"#fff"}})))))))};t.default=Object(M.a)(z)},470:function(e,t,a){e.exports={primary:"#00F38D",secondary:"#009EFF"}},530:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r});var n=function(e,t){return Math.ceil(Math.max(.0019*t,.00583*t))},r=function(e){var t=Math.min(1,Math.max(0,Math.log10(10+e)/1.5-1));return o(1-t,t,0)},s=function e(t,a){return(t=t.toString()).length<a?e("0"+t,a):t},o=function(e,t,a){return"#"+s(Math.round(255*e).toString(16),2)+s(Math.round(255*t).toString(16),2)+s(Math.round(255*a).toString(16),2)}},640:function(e,t,a){"use strict";var n=a(44),r=a(47),s=a(45),o=a(46),i=a(768),l=a(12),c=a.n(l),u=(a(414),function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(r.a)(this,Object(s.a)(t).call(this))).onMarkerClick=function(t,a,n){return e.setState({selectedPlace:t,activeMarker:a,showingInfoWindow:!0})},e.onMapClicked=function(t){e.state.showingInfoWindow&&e.setState({showingInfoWindow:!1,activeMarker:null})},e.render=function(){return c.a.createElement(i.GoogleMap,{defaultZoom:8,defaultCenter:{lat:-34.397,lng:150.644},onClick:e.onMapClicked,initialCenter:{lat:40.854885,lng:-88.081807}},c.a.createElement(i.Marker,{onClick:e.onMarkerClick,name:"Current location"}),e.props.directions&&c.a.createElement(i.DirectionsRenderer,{directions:e.props.directions}))},e.state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},e.directionsService=new window.google.maps.DirectionsService,e}return Object(o.a)(t,e),t}(l.Component));t.a=Object(i.withGoogleMap)(u)},655:function(e,t,a){"use strict";var n=a(44),r=a(48),s=a(47),o=a(45),i=a(46),l=a(12),c=a.n(l),u=(a(656),a(530)),m=a(406),d=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this))).state={cost:null},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.directions,n=t.readOnly;if(!a)return null;var r=a.routes,s=(a.geocoded_waypoints,a.request),o=(a.status,r[0]),i=o.legs[0],l=o.summary,d=i.distance,h=i.duration,p=i.end_address,f=i.start_address,v=(s.origin,s.destination,this.props.cost),E=Object(u.b)(v);return c.a.createElement("div",{className:"RouteInfo"},c.a.createElement(m.List,null,c.a.createElement(m.ListItem,null,c.a.createElement("div",{className:"center"},c.a.createElement("span",{className:"list-item__title"},"Van"),c.a.createElement("span",{className:"list-item__subtitle"},f))),c.a.createElement(m.ListItem,null,c.a.createElement("div",{className:"center"},c.a.createElement("span",{className:"list-item__title"},"Naar"),c.a.createElement("span",{className:"list-item__subtitle"},p))),c.a.createElement(m.ListItem,null,c.a.createElement("div",{className:"center"},c.a.createElement("span",{className:"list-item__title"},"Via"),c.a.createElement("span",{className:"list-item__subtitle"},l))),c.a.createElement(m.ListItem,null,c.a.createElement("div",{className:"center"},c.a.createElement("span",{className:"list-item__title"},"Afstand"),c.a.createElement("span",{className:"list-item__subtitle"},d.text))),c.a.createElement(m.ListItem,null,c.a.createElement("div",{className:"center"},c.a.createElement("span",{className:"list-item__title"},"Duur"),c.a.createElement("span",{className:"list-item__subtitle"},h.text))),c.a.createElement(m.ListItem,null,c.a.createElement("div",{className:"center"},c.a.createElement("span",{className:"list-item__title"},"Vergoeding"),c.a.createElement("span",{style:{backgroundColor:E},className:"list-item__subtitle"},c.a.createElement(m.Input,{readonly:n,readOnly:n,type:"number",step:"1",min:"0",max:"5000",value:""+v,onChange:function(t){return e.props.onCostChange(+t.target.value)}}))))))}}]),t}(l.Component);t.a=d},656:function(e,t,a){},657:function(e,t,a){"use strict";a.d(t,"a",function(){return m}),a.d(t,"b",function(){return d});var n=a(84),r=a.n(n),s=a(107),o=a(44),i=a(410),l=a(428),c=a(411),u=function(e){return{lat:e.lat(),lng:e.lng()}},m=function e(t,a,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.STATES.INITIAL,m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:new Date;Object(o.a)(this,e);var p=t.routes[0],f=p.summary,v=p.legs,E=p.overview_polyline,g=v[0],b=g.distance,C=g.duration,_=g.end_address,O=g.end_location,w=g.start_address,I=g.start_location;this.overview_polyline=E,this.distance=b.value,this.summary=f,this.duration=C.value,this.end_address=_,this.end_location=u(O),this.start_address=w,this.start_location=u(I),this.cost=a,this.senderUid=i.a.user.uid,this.timestamp=(new Date).getTime(),this.senderName=Object(l.a)(i.a.user),this.description=n,this.title=r,this.receiverUid=s,this.state=c,this.acceptedRouteOrderOfferId=m,this.transportMethods=d,this.dateTime=h.getTime()};m.STATES={INITIAL:"INITIAL",PICKED_UP:"PICKED_UP",DONE:"DONE",COMPLETE:"COMPLETE"};var d=function(){var e=Object(s.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.ready;case 2:return e.next=4,c.a.firestore().collection("routeorders").add(Object.assign({},t));case 4:return a=e.sent,e.next=7,a.get();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=10.303618b9.chunk.js.map